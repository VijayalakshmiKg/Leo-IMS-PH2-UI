<div class="viewSupplier-header">
    <div class="search ml-3">
      <mat-form-field class="searchCls w-100" appearance="outline" aria-label="Search Supplier">
        <input type="search" matInput placeholder="Search Supplier" aria-label="Search"
          (keyup)="filteredUsersList($event.target)">
        <mat-icon matPrefix>search</mat-icon>
      </mat-form-field>
    </div>
  </div>
  <div class="viewSupplier-container">
  
    <div class="SupplierList">
      <div class="d-flex justify-content-between listHeader">
<div>

  <button mat-button [matMenuTriggerFor]="menu" class="sortSelectedText">{{sortByText}} <svg width="16" class="ml-1" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M4 5.99999L8 9.99999L12 5.99999" stroke="#6B6B6B" stroke-width="1.33331" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    </button>
<mat-menu #menu="matMenu" class="sortByTextCls">
  <button mat-menu-item (click)="changeSortBY('All')" class="sortByTextCls">All</button>
  <button mat-menu-item (click)="changeSortBY('Active')" class="sortByTextCls">Active</button>
  <button mat-menu-item (click)="changeSortBY('Inactive')" class="sortByTextCls">Inactive</button>
</mat-menu>

</div>
<button class="addSupplierBtn bgColorCls" type="button"><svg width="16" class="mr-2" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M8 3.33333V12.6667" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M3.33301 8H12.6663" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
   Supplier </button>
      </div>
  
      <button *ngFor="let item of supplierList;index as i" [class.activeCls]="i == activeSupplier"
        class="SupplierListCls common-btn w-100" (click)="changesupplierView(i)">

        <div class="d-flex gap-12 driverListCls align-items-start">
          <mat-checkbox [(ngModel)]="item.checked" *ngIf="this.logedInUser !=  'Admin'"></mat-checkbox>

          <!-- <input type="checkbox" [(ngModel)]="item.checked"> -->

          <div class="d-flex  justify-content-between w-100">
            <div class="d-flex gap-4 align-items-start flex-column ">
              <span>{{item?.supplierName}} </span>
              <p class="mb-0 ">Supplier</p>
              <div class="activeStatus">Active</div>
            </div>
            <p class="mb-0  quantity">GBP {{item.balancePay}}</p>
          </div>
        </div>
        
      </button>
    </div>
    <div class="SupplierViewDeatils">
      <div class="d-flex justify-content-between view-head">
        <div class="">
          <h3>{{viewSupplierRecord?.supplierName}}</h3>
          <div class="d-flex align-items-center">
            <span>Supplier</span>
            <div 
            class="ml-3 completed" >
            ACTIVE
          </div>
          
          </div>
        </div>
  
        <div class="d-flex align-items-center justify-content-start">
          <div class="mr-4 d-flex align-items-center justify-content-start">
  
            <button class="editBtn bgColorCls" (click)="editSupplier()" *ngIf="permissions?.editAccess">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_934_27443)">
                  <path
                    d="M2.66602 13.3333H5.33268L12.3327 6.33333C12.5078 6.15824 12.6467 5.95037 12.7414 5.72159C12.8362 5.49282 12.885 5.24762 12.885 5C12.885 4.75238 12.8362 4.50718 12.7414 4.2784C12.6467 4.04963 12.5078 3.84176 12.3327 3.66666C12.1576 3.49157 11.9497 3.35268 11.7209 3.25791C11.4922 3.16315 11.247 3.11438 10.9993 3.11438C10.7517 3.11438 10.5065 3.16315 10.2778 3.25791C10.049 3.35268 9.84111 3.49157 9.66602 3.66666L2.66602 10.6667V13.3333Z"
                    stroke="white" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M9 4.33325L11.6667 6.99992" stroke="white" stroke-linecap="round" stroke-linejoin="round" />
                </g>
                <defs>
                  <clipPath id="clip0_934_27443">
                    <rect width="16" height="16" fill="white" />
                  </clipPath>
                </defs>
              </svg>
  
              Edit
            </button>
  
            <button class="moreBtn" [matMenuTriggerFor]="menu" aria-label="more" *ngIf="permissions?.deleteAccess">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <g clip-path="url(#clip0_934_27455)">
                  <path
                    d="M7.33594 7.9987C7.33594 8.17551 7.40618 8.34508 7.5312 8.4701C7.65622 8.59513 7.82579 8.66536 8.0026 8.66536C8.17942 8.66536 8.34898 8.59513 8.47401 8.4701C8.59903 8.34508 8.66927 8.17551 8.66927 7.9987C8.66927 7.82189 8.59903 7.65232 8.47401 7.52729C8.34898 7.40227 8.17942 7.33203 8.0026 7.33203C7.82579 7.33203 7.65622 7.40227 7.5312 7.52729C7.40618 7.65232 7.33594 7.82189 7.33594 7.9987Z"
                    stroke="#334155" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round" />
                  <path
                    d="M7.33594 12.6665C7.33594 12.8434 7.40618 13.0129 7.5312 13.1379C7.65622 13.263 7.82579 13.3332 8.0026 13.3332C8.17942 13.3332 8.34898 13.263 8.47401 13.1379C8.59903 13.0129 8.66927 12.8434 8.66927 12.6665C8.66927 12.4897 8.59903 12.3202 8.47401 12.1951C8.34898 12.0701 8.17942 11.9999 8.0026 11.9999C7.82579 11.9999 7.65622 12.0701 7.5312 12.1951C7.40618 12.3202 7.33594 12.4897 7.33594 12.6665Z"
                    stroke="#334155" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round" />
                  <path
                    d="M7.33594 3.33464C7.33594 3.51145 7.40618 3.68102 7.5312 3.80604C7.65622 3.93106 7.82579 4.0013 8.0026 4.0013C8.17942 4.0013 8.34898 3.93106 8.47401 3.80604C8.59903 3.68102 8.66927 3.51145 8.66927 3.33464C8.66927 3.15782 8.59903 2.98826 8.47401 2.86323C8.34898 2.73821 8.17942 2.66797 8.0026 2.66797C7.82579 2.66797 7.65622 2.73821 7.5312 2.86323C7.40618 2.98826 7.33594 3.15782 7.33594 3.33464Z"
                    stroke="#334155" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round" />
                </g>
                <defs>
                  <clipPath id="clip0_934_27455">
                    <rect width="16" height="16" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </button>
  
            <mat-menu #menu="matMenu">
              <div class="d-flex flex-column">
                <!-- <button mat-menu-item class="common-btn">
                              
                                    <span>Mark as Inactive</span>
                                  </button> -->
                <button mat-menu-item class="common-btn">
  
                  <button type="button" class="common-btn" (click)="deleteSupplier()">Remove</button>
                </button>
              </div>
  
            </mat-menu>
  
          </div>
  
          <button class="common-btn" (click)="back()"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
              viewBox="0 0 20 20" fill="none">
              <path d="M15 5L5 15" stroke="#1E293B" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M5 5L15 15" stroke="#1E293B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg></button>
        </div>
      </div>
  
      <div>
        <!-- <h4>Supplier details</h4> -->
         <div class="supplierHeadView">
          <button type="button" class="common-btn" [class.active]="viewMode=='Overview'" (click)="changeView('Overview')">Overview</button>
          <button type="button" class="common-btn" [class.active]="viewMode=='Intake sheet'" (click)="changeView('Intake sheet')">Intake sheet</button>
          <button type="button" class="common-btn" [class.active]="viewMode=='Summary'" (click)="changeView('Summary')">Summary</button>
         </div>
  
  
       <div [ngSwitch]="viewMode">
        <div *ngSwitchCase="'Overview'" class="vehicleDetails basicActivityDetails-container">
        
        <div>
  
          <h4>Supplier details</h4>
          <div class="d-flex">
            <label>Supplier name</label>
            <span>{{viewSupplierRecord?.supplierName}}</span>
  
          </div>
          <div class="d-flex">
            <label>Mobile number</label>
            <span>{{viewSupplierRecord?.mobileNumber}}</span>
  
          </div>
          <div class="d-flex">
            <label>Email address</label>
            <span>{{viewSupplierRecord?.email}}</span>
  
          </div>
          <div class="d-flex">
            <label>VAT no</label>
            <span>{{viewSupplierRecord?.vatNo}}</span>
  
          </div>
          <div class="d-flex">
            <label>UTR no</label>
            <span>{{viewSupplierRecord?.utrNO}}</span>
  
          </div>
          <div class="d-flex">
            <label>Opening balance</label>
            <span>{{viewSupplierRecord?.balancePay}}</span>
  
          </div>
          <div class="d-flex">
            <label>Opening balance date</label>
            <span>{{viewSupplierRecord?.balanceDate}}</span>
  
          </div>
         
        </div>
        <div>
  
          <h4>Addresss details</h4>
          <div class="d-flex">
            <label>Supplier address</label>
            <span>{{viewSupplierRecord?.supplierAddress}}</span>
  
          </div>
          <div class="d-flex">
            <label>Billing address</label>
            <span>{{viewSupplierRecord?.billingAddress}}</span>
  
          </div>
        
         
        </div>
      
        </div>
        <div *ngSwitchCase="'Intake sheet'" class="vehicleDetails basicActivityDetails-container">
          <h4>Intake sheet</h4>

          <!-- <div class="supplier-tabel">

          </div> -->

          <table class="supplier-tabel table">
            <thead >
              <tr>
                <th scope="col">Product</th>
                <th scope="col">Plant</th>
                <th scope="col">Supplier</th>
                <th scope="col">Intake sheet</th>
                <th scope="col">Net weight</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of intakeList">
                <td>{{item.Product}}</td>
                <td>{{item.Plant}}</td>
                <td>{{item.Supplier}}</td>
                <td>{{item.intakeSheet}}</td>
                <td>{{item.netWeight}}</td>
              </tr>
              
            </tbody>
          </table>

        </div>
        <div *ngSwitchCase="'tracking'">

          <h4>Summary</h4>

          <!-- <div class="supplier-tabel">

          </div> -->

          <table class="supplier-tabel table">
            <thead >
              <tr>
                <th scope="col">Supplier</th>
                <th scope="col">Product</th>
                <th scope="col">Payment date</th>
                <th scope="col">Amount</th>
                <th scope="col">Payment status</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of summaryList">
                <td>{{item.Product}}</td>
                <td>{{item.Plant}}</td>
                <td>{{item.Supplier}}</td>
                <td>{{item.intakeSheet}}</td>
                <td>{{item.netWeight}}</td>
              </tr>
              
            </tbody>
          </table>

        </div>
       </div>
      </div>
  
    </div>
  </div>